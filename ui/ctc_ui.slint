import { HorizontalBox, Button, GroupBox, Switch } from "std-widgets.slint";

export component TransitSystem inherits Rectangle {
    background: #252525;
    border-radius: 10px;
    VerticalLayout {
        HorizontalLayout {
            padding-top: 7px;
            padding-left: 10px;
            Text { 
                text: "Transit System";
            }
        }
    }
}

export component TrainSchedule inherits Rectangle {
    background: #252525;
    border-radius: 10px;
    VerticalLayout {
        HorizontalLayout {
            padding-top: 7px;
            padding-left: 10px;
            Text { 
                text: "Train Schedule";
            }
        }
    }
}

export component Dispatch inherits Rectangle {
    background: #252525;
    border-radius: 10px;
}

export component CtcUi inherits Window {
    in-out property<string> fileName: "";
    property <bool> automatic_mode: true;
    callback choose-file();
    callback parse-file();

    title: "CTC Office";
    min-width: 600px;
    min-height: 400px;
    VerticalLayout {
        padding: 15px;
        spacing: 15px;
        alignment: stretch;
        TransitSystem {

        }
        HorizontalLayout {
            spacing: 15px;
            TrainSchedule {}
            Dispatch {
                VerticalLayout {
                    alignment: start;
                    padding: 10px;
                    spacing: 10px;
                    HorizontalLayout {
                        alignment: start;
                        Text { 
                            horizontal-alignment: left;
                            text: "Dispatch";
                        }
                        
                    }
                    HorizontalLayout {
                        spacing: 10px;
                        Switch {
                            checked: automatic_mode;
                            toggled => {automatic_mode = !automatic_mode;}
                        }
                        Text {text: automatic_mode ? "Automatic Mode" : "Manual Mode";}
                    }
                    Rectangle {}
                    HorizontalLayout {
                        alignment: start;
                        Text { text: "Choose File: ";}
                        Rectangle {width: 10px;}
                        Rectangle {
                            border-radius: 5px;
                            y: -3px;
                            width: 150px;
                            height: 25px;
                            border-width: 2px;
                            border-color: #4d4d4d;
                            Text {text: fileName;}
                        }
                    }
                    
                        Button { 
                            height: 30px;
                            width: 100px;
                            text: "Open File";
                            clicked => {root.choose-file()}
                            
                        }
                    Button { 
                        height: 50px;
                        width: 250px;
                        text: "Parse File";
                        clicked => {root.parse-file()}
                    } 
                }
            }
        }
        
    }
}


